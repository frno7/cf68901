CLK=4000000		-- 4.000000 MHz CLK
XTAL1=2457600		-- 2.457600 MHz XTAL1

RESET_L=0 #4
RESET_L=1 #4

#2 VR=0x40		-- Vector base 0x40 with SEI=0
#1 IMRA=0b00100000	-- Timer A mask enable
#1 IERA=0b00100000	-- Timer A enable
#1 TADR=192		-- Data counter 192 with prescale 64 is 200 Hz
#1 TACR=5		-- Control mode 5 is prescale 64, starting the timer

-- Assert that a timer A interrupt is requested after
-- exactly 64*192=12288 XTAL1 cycles = 20000 CLK cycles (200 Hz)
#19999 IRQ_L!1		-- An interrupt is not yet asserted
    #1 VECTOR!0x4d	-- Acknowledge timer A interrupt on channel 13 (0xd)

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

#19999 IRQ_L!1
    #1 VECTOR!0x4d

-- ... The timer repeats indefinitely in 20000 CLK cycles (200 Hz) ...

-- Wait an arbitrary number of cycles, then set the data counter to 96,
-- with the prescale remaining 64, for 400 Hz that is to be updated when
-- data counter transitions from 1 to 0.
#7919 TADR=96

#19999-7919 IRQ_L!1
    #1 VECTOR!0x4d

-- Assert that a timer A interrupt is requested after
-- exactly 64*192=6144 XTAL1 cycles = 10000 CLK cycles (400 Hz)

#9999 IRQ_L!1
   #1 VECTOR!0x4d

#9999 IRQ_L!1
   #1 VECTOR!0x4d

#9999 IRQ_L!1
   #1 VECTOR!0x4d

#9999 IRQ_L!1
   #1 VECTOR!0x4d

#9999 IRQ_L!1
   #1 VECTOR!0x4d

-- ... The timer repeats indefinitely in 10000 CLK cycles (400 Hz) ...
